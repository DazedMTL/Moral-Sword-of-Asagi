#==============================================================================
# ■ Ahriman::DamageHelper::Evaluator
#------------------------------------------------------------------------------
# 　ダメージ計算を実行するクラスです。Ahriman::DamageHelper モジュールの内部で
# 使用されます。
#==============================================================================

class Ahriman::DamageHelper::Evaluator
  #--------------------------------------------------------------------------
  # ● Mix-in
  #--------------------------------------------------------------------------
  include Ahriman::DamageHelper
  #--------------------------------------------------------------------------
  # ● 欲情値からダメージ係数を計算
  #--------------------------------------------------------------------------
  def passion(actor)
    x = actor.mat
    a = 1.0 - x / 1000.0
    b = 1.0 - a ** 2
    c = b * 100
    d = 20 + x ** 0.3
    [c,d].min.to_i
  end
end
